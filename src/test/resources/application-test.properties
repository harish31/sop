spring.profiles.active=test
spring.liquibase.enabled=false
#server.port=8000

# spring.datasource.H2
spring.datasource.driver-class-name=org.h2.Driver 
spring.datasource.url=jdbc:h2:mem:db;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=false
spring.datasource.username=sa
spring.datasource.password=sa

# hibernate.H2
hibernate.dialect=org.hibernate.dialect.H2Dialect
hibernate.show_sql=true
hibernate.hbm2ddl.auto=create-drop
hibernate.cache.use_second_level_cache=true
hibernate.cache.use_query_cache=true
hibernate.cache.region.factory_class=org.hibernate.cache.ehcache.EhCacheRegionFactory

spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

#parley properties 
#This is a JMS 2.0 broker
parley.broker[0].id=local1
parley.broker[0].host=localhost
parley.broker[0].port=61616
parley.broker[0].channel=
parley.broker[0].protocol=vm
parley.broker[0].queueManagerName= 
parley.broker[0].jmsProvider=AMQ
parley.broker[0].sendSessionCacheSize=10
parley.broker[0].username=admin
parley.broker[0].password=admin

parley.source[0].name=supplier-order-inbound
parley.source[0].type=JMS.QUEUE
parley.source[0].brokerId=local1
parley.source[0].clientID=client1
parley.source[0].concurrency=1-2
parley.source[0].endpoint=WW.QL.SCOPE.ORDER.SUPPLIER.ORDER.IN

parley.source[1].name=sop-prep-release-inbound
parley.source[1].type=JMS.QUEUE
parley.source[1].brokerId=local1
parley.source[1].clientID=client1
parley.source[1].concurrency=1-2
parley.source[1].endpoint=WW.QL.SCOPE.SOP.PREP.RELEASE.IN

parley.source[2].name=sop-cams-event-inbound
parley.source[2].type=JMS.QUEUE
parley.source[2].brokerId=local1
parley.source[2].clientID=client1
parley.source[2].concurrency=1-2
parley.source[2].endpoint=WW.QL.SCOPE.CAMS.EXTRACT.PROCESSOR.OUT

parley.source[3].name=order-visibility-inbound
parley.source[3].type=JMS.QUEUE
parley.source[3].brokerId=supplier-order-processor
parley.source[3].clientID=client1
parley.source[3].concurrency=1-2
parley.source[3].endpoint=SDAUPR.INBOUND.ORDER.VISIBILITY.SCOPE


###This endpoint is w.r.t to broker: "local1"
parley.target[0].name=supplier-order-invalid
parley.target[0].type=JMS.QUEUE
parley.target[0].brokerId=local1
parley.target[0].clientID=client1
parley.target[0].concurrency=1-2
parley.target[0].endpoint=WW.QL.SCOPE.ORDER.SUPPLIER.ORDER.INVALID.OUT


###This endpoint is w.r.t to broker: "local1"
parley.target[1].name=supplier-order-outbound
parley.target[1].type=JMS.QUEUE
parley.target[1].brokerId=local1
parley.target[1].clientID=client1
parley.target[1].concurrency=1-2
parley.target[1].endpoint=WW.QL.SCOPE.ORDER.SEQUENCER.IN

parley.target[2].name=terminator-inbound
parley.target[2].type=JMS.QUEUE
parley.target[2].brokerId=local2
parley.target[2].clientID=client1
parley.target[2].concurrency=1-2
parley.target[2].endpoint=WW.QL.SCOPE.TERMINATOR.IN

parley.target[3].name=test_supplier-order-out
parley.target[3].type=JMS.QUEUE
parley.target[3].brokerId=local1
parley.target[3].clientID=client1
parley.target[3].concurrency=1-2
parley.target[3].endpoint=WW.QL.SCOPE.ORDER.SUPPLIER.ORDER.IN

parley.target[4].name=cams-event-invalid
parley.target[4].type=JMS.QUEUE
parley.target[4].brokerId=supplier-order-processor
parley.target[4].clientID=client1
parley.target[4].concurrency=1-2
parley.target[4].endpoint=WW.QL.SCOPE.CAMS.EVENT.INVALID.OUT

parley.target[5].name=cams-event-bo
parley.target[5].type=JMS.QUEUE
parley.target[5].brokerId=supplier-order-processor
parley.target[5].clientID=client1
parley.target[5].concurrency=1-2
parley.target[5].endpoint=WW.QL.SCOPE.CAMS.EVENT.BO.OUT

###This endpoint is w.r.t to broker: "local1"
parley.target[6].name=auditor-outbound
parley.target[6].type=JMS.QUEUE
parley.target[6].brokerId=local1
parley.target[6].clientID=client1
parley.target[6].concurrency=1-2
parley.target[6].endpoint=audit.payload.IN

parley.target[7].name=E41-cams-outbound
parley.target[7].type=JMS.QUEUE
parley.target[7].brokerId=local1
parley.target[7].clientID=client1
parley.target[7].concurrency=1-2
parley.target[7].endpoint=SDAUPR.INBOUND.CAMS.ORDSUMMARY.SCOPE

parley.target[8].name=error-log-inbound
parley.target[8].type=JMS.QUEUE
parley.target[8].brokerId=supplier-order-processor
parley.target[8].clientID=client1
parley.target[8].concurrency=1-2
parley.target[8].endpoint=WW.QL.SCOPE.ORDER.ERROR.LOG.IN

parley.target[9].name=order-visibility-bo
parley.target[9].type=JMS.QUEUE
parley.target[9].brokerId=supplier-order-processor
parley.target[9].clientID=client1
parley.target[9].concurrency=1-2
parley.target[9].endpoint=SDAUPR.INBOUND.ORDER.VISIBILITY.SCOPE.BO

parley.target[10].name=order-visibility-error
parley.target[10].type=JMS.QUEUE
parley.target[10].brokerId=supplier-order-processor
parley.target[10].clientID=client1
parley.target[10].concurrency=1-2
parley.target[10].endpoint=SDAUPR.INBOUND.ORDER.VISIBILITY.SCOPE.ERROR

parley.target[11].name=order-visibility-outbound
parley.target[11].type=JMS.QUEUE
parley.target[11].brokerId=supplier-order-processor
parley.target[11].clientID=client1
parley.target[11].concurrency=1-2
parley.target[11].endpoint=SDAUPR.OUTBOUND.ORDER.VISIBILITY.SCOPE

parley.target[12].name=olcm-outbound
parley.target[12].type=JMS.QUEUE
parley.target[12].brokerId=supplier-order-processor
parley.target[12].clientID=client1
parley.target[12].concurrency=1-2
parley.target[12].endpoint=SDAUPR.INBOUND.OLCM.SCOPE

audit.queue.property.name=parley.target[6].name
cams.queue.property.name=parley.target[7].name
olcm.in.queue=${parley.target[12].name}

## Auto allocation end duration in minutes
auto.allocation.duration=30

spring.activemq.broker-url=vm://localhost:61616
spring.activemq.in-memory=true
activemq.queue.helloworld=testQueue

orderOty.readonly.for.ordertypes=RUSH
itemQty.readonly.for.ordertypes=RUSH

#Enrichment code and capability interface mapping
E18=scheduleAndRouteCodeCommandCapability
E42=releaseScheduleCommandCapability
E23=togCommandCapability
E31=autoHoldingCommandCapability
E2=productSubstitutionCommand
E28=productCustomerCommandCapability
E27=productCommandCapability
E21=productSupplierCommandCapability
E50=productRestrictorCommandCapability
E44=productRejectorCommandCapability
E29=managerOptionsCommandCapability
E40=forecasterCommandCapability
E22=itemQtyCommandCapability
E47=inventoryCollectorCommandCapability
E25=uomCommandCapability
E19=orderAutoAllocationCommand
E24=casePackQtyCommandCapability
E13=palletQuantityCommandCapability
E16=caseRoundingCommandCapability
E14=palletRoundingCommandCapability
E33=calculateItemCubeAndWeight
E39=containerPalletCommandCapability
E34=orderTotalCommandImpl
E35=orderQtyCommandCapability
E43=statusConsilidatorCapability
E41=camsOrderSummaryCommandCapability
E48=seaFoodConfigCommandCapability
E99=finalizerCapability

#Enrichment Beans Properties 
manual.quantity.change.beans=${E24},${E13},${E33},${E39},${E34},${E35},${E43},${E41}
manual.orderstatus.change.beans=${E41},${E48}
manual.orderstatus.change.beans.except.seafood=${E41}
manual.reenrich.beans=${E18},${E42},${E23},${E31},${E2},${E28},${E27},${E21},${E50},${E44},${E29},${E40},${E22},${E47},${E25},${E19},${E24},${E13},${E16},${E14},${E33},${E39},${E34},${E35},${E43},${E41},${E48},${E99}

#Rule - Execute ASYNC only when (pd changed) AND/OR (status changed to ACTIVE)
#only pd changed
manual.pdchanged=${manual.reenrich.beans}:ASYNC

#only order status changed
manual.statuschanged.ACTIVE.CANCELLED=${manual.orderstatus.change.beans}:SYNC
manual.statuschanged.ACTIVE.ON_HOLD=${manual.orderstatus.change.beans}:SYNC
manual.statuschanged.ACTIVE.READY_TO_RELEASE=${manual.orderstatus.change.beans.except.seafood}:SYNC

manual.statuschanged.ON_HOLD.ACTIVE=${manual.reenrich.beans}:ASYNC
manual.statuschanged.ON_HOLD.CANCELLED=${manual.orderstatus.change.beans}:SYNC
manual.statuschanged.ON_HOLD.READY_TO_RELEASE=${manual.orderstatus.change.beans}:SYNC

#Both pd and order status changed
manual.pdchanged.statuschanged.ACTIVE.CANCELLED=${manual.orderstatus.change.beans}:SYNC
manual.pdchanged.statuschanged.ACTIVE.ON_HOLD=${manual.orderstatus.change.beans}:SYNC
manual.pdchanged.statuschanged.ACTIVE.READY_TO_RELEASE=${manual.orderstatus.change.beans.except.seafood}:SYNC

manual.pdchanged.statuschanged.ON_HOLD.ACTIVE=${manual.reenrich.beans}:ASYNC
manual.pdchanged.statuschanged.ON_HOLD.CANCELLED=${manual.orderstatus.change.beans}:SYNC
manual.pdchanged.statuschanged.ON_HOLD.READY_TO_RELEASE=${manual.orderstatus.change.beans}:SYNC

order.visibility.xsd.validation.enable=true
error.severities=CRITICAL,ERROR
change.category=ORD_VIS

order.visibility.order.statuses=REJECTED,CANCELLED,RELEASED_FOR_FULFILLEMENT
order.visibility.order.line.statuses=REJECTED,CANCELLED,ACTIVE
order.outbound.order.line.statuses=ACTIVE
valid.order.release.status=202,213
valid.order.status.for.order.edit=202,205
invalid.order.line.statuses=253,257,258

unknown.supplier.id=998899

auto.allocation.config.default.total.duration=30
auto.allocation.config.default.release.offset=30

adjustment.reasons.source.ui=102,103,2008,2011,2012,2016,2022,2023,2024

#If below property enabled then Firm separates orders will remain in Enrichment in Progress for 6 months
is.autoAllocation.enabled.for.firmSeparate=false
send.ov.via.terminator=true